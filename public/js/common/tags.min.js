$(function(){var t={init:function(){this._el(),this._events(),this.$tags.find(".all").trigger("click"),this.fade()},_el:function(){this.$el=$(".tags-page"),this.$tags=this.$el.find(".tags"),this.$posts=this.$el.find(".tag-posts")},_events:function(){var t=this;t.$tags.delegate(".tag","click",function(s){var a=$(this),i=a.text();t.$posts.find(".posts").empty(),t.loading(!0),t.$posts.find(".tag-name").text(i),$.ajax({url:baseurl+"/json_api/posts/",type:"GET",dataType:"json"}).done(function(s){a.hasClass("all")?t.render(s,i):t.render(t.getPostsByTagName(s,i)),t.loading(!1)}).fail(function(){t.loading(!0,"fail!")}).always(function(){})})},getPostsByTagName:function(t,s){for(var a=[],i=0,n=t.length;i<n;i++)for(var e=t[i],o=e.tags,l=0,f=o.length;l<f;l++)if(o[l]===s){a.push(e);break}return a},render:function(t){for(var s=[],a="",i=0,n=t.length;i<n;i++){var e='<li class="post-li fade"><a class="post-name" title="'+t[i].title+'" href="'+t[i].url+'">'+t[i].title+'</a><span class="post-date">'+t[i].date+"</span></li>";s.push(e)}a=s.join(""),this.$posts.find(".posts").html(a),this.fade()},loading:function(t,s){var a=this.$posts.find(".loading"),s=s?s:"loading...";a.text(s),t?a.removeClass("hide"):a.addClass("hide")},fade:function(){var t=this.$posts.find(".fade");t.each(function(t,s){$(this).delay(80*t).fadeTo(500,1)})}};t.init()});