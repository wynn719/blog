$(function(){function t(t,a){for(var s=[],n=0,i=t.length;i>n;n++)for(var e=t[n],l=e.tags,o=0,f=l.length;f>o;o++)if(l[o]===a){s.push(e);break}return s}function a(t){for(var a=[],s="",i=0,e=t.length;e>i;i++){var l='<li class="post-li fade"><a class="post-name" title="'+t[i].title+'" href="'+t[i].url+'">'+t[i].title+'</a><span class="post-date">'+t[i].date+"</span></li>";a.push(l)}s=a.join(""),$(".tag-posts").find(".posts").html(s),n()}function s(t,a){var s=$(".tag-posts").find(".loading"),a=a?a:"loading...";s.text(a),t?s.removeClass("hide"):s.addClass("hide")}function n(){var t=$(".fade");t.each(function(t,a){$(this).delay(80*t).fadeTo(500,1)})}function i(){$(".tags").find(".all").trigger("click"),n()}$(".tags").delegate(".tag","click",function(n){var i=$(this),e=i.text();$(".tag-posts").find(".posts").empty(),s(!0),$(".tag-posts").find(".tag-name").text(e),$.ajax({url:baseurl+"/json_api/posts/",type:"GET",dataType:"json"}).done(function(n){i.hasClass("all")?a(n,e):a(t(n,e)),s(!1)}).fail(function(){s(!0,"fail!")}).always(function(){})}),i()});